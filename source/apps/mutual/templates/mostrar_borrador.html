{% extends 'dashboardCliente.html' %}
{% load static %}

{% block extra_css_nivel %}
  <link href="{% static 'Libs/css/mutual_alta.css' %}" rel="stylesheet" />
{% endblock %}

{% block contenedor %}
  {% comment %}Preguinto si ya existe un prestamo previamente{% endcomment %}
  {% if existe_prestamo %}
    {% if prestamo_leido %}
      <p> Y ESE PRESTAMO HA SIDO LEIDO</p>
    {% endif %}
  {% endif %}
  

  <div class="container cuadrado-background">
    <h1 class="text-center">{{ titulo }}</h1>
    <p>
      <strong>Prestamo:</strong>
      {{ mutual }}
    </p>

    <p>
      <strong>Periodo a declarar:</strong>
      {{ periodo }}
    </p>
    
    <form method="post" enctype="multipart/form-data" id="declaracionForm">
      {% csrf_token %}

      
      <div class="mb-3">
          <h5> Prestamo</h5>
          <input class="form-control" type="file" name="{{ form.archivo_p.name }}" id="{{ form.archivo_p.id_for_label }}" />
        </div>
  
      <div class="mb-3">
          <h5>Reclamo</h5>
          <input class="form-control" type="file" name="{{ form.archivo_r.name }}" id="{{ form.archivo_r.id_for_label }}" />
        </div>
  
      <br />
      <div class="text-center"> 
          <button type="submit" class="btn btn-success" id="declararBtn" disabled>Cargar Declaracion</button>
      </div>
  </form>
  
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
  <script>
    // Activar el botón cuando se carguen ambos archivos
// Activar el botón cuando se carguen ambos archivos
$(document).ready(function() {
  $('#{{ form.archivo_p.id_for_label }}').on('change', function() {
      var archivoP = $(this);
      var archivoR = $('#{{ form.archivo_r.id_for_label }}');
      var declararBtn = $('#declararBtn');

      if (archivoP.val() || archivoR.val()) {
          declararBtn.prop('disabled', false);
      } else {
          declararBtn.prop('disabled', true);
      }
  });

  $('#{{ form.archivo_r.id_for_label }}').on('change', function() {
      var archivoP = $('#{{ form.archivo_p.id_for_label }}');
      var archivoR = $(this);
      var declararBtn = $('#declararBtn');

      if (archivoP.val() || archivoR.val()) {
          declararBtn.prop('disabled', false);
      } else {
          declararBtn.prop('disabled', true);
      }
  });
});

$(document).getElementById('verificarBoton').on('click, ')

  </script>
  {% endblock %}
